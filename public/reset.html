<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" ng-app="main">

<head>
    <meta charset="utf-8" />
    <title>smartStone - Switch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <!--https://www.bootstrapcdn.com/-->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
        crossorigin="anonymous">

    <link rel="stylesheet" href="./css/led.css" />
    <link rel="stylesheet" href="./css/refresh.css" />

    <link rel="shortcut icon" href="/favicon-switch.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="./icons/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="./icons/smartStone-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="./icons/smartStone-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="./icons/smartStone-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="./icons/smartStone-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="./icons/smartStone-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="./icons/smartStone-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="./icons/smartStone-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="./icons/smartStone-180x180.png" />
</head>

<body>
    <div ng-controller="switchController" ng-init="init()" ng-cloak>
        <div class="container" id="pullToRefreshContainer">

            <div id="ptr">
                <i class="fa fa-chevron-down" aria-hidden="true"></i>
                <div class="loading">
                    <span id="l1"></span>
                    <span id="l2"></span>
                    <span id="l3"></span>
                </div>
            </div>
           
            <div class="panel-body">
                    <div class="row">
                        <div>RESET</div>
                    </div>
                <div class="row">
                    <table class="ledTable">
                        <thead>
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <led-Reset-Switch pin-no="11">
                                        <!-- caption="Test" -->
                                </td>                               
                            </tr>                           
                        </tbody>
                    </table>
                </div>
                <button style="display: none;" id="btn-refresh" ng-click="refresh()" class="btn btn-sm btn-info">TEST</button>
            </div>
        </div>
    </div>

    <!--footer-->
    <hr />
    <footer>
        <div class="container">
            <span class="pull-left">

            </span>
            <div class="pull-right">
                Version: 2.0.2
            </div>
        </div>
    </footer>

    <!-- JQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
    <!-- Angular -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.7/angular.min.js" integrity="sha256-bs1GvtqRJyWn3a6f6BiFOdX9LK86qR4UuPKmLr5JXTE="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.7/angular-route.min.js" integrity="sha256-8bgkuoYyDpASEZz5bIftIpnq9jPDnui2P34vD6i9Ae4="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.7/angular-touch.min.js" integrity="sha256-EDVag1/nKoY0cLw7VrAFhNrpFseDaOqvWXtdZ65Wt0M="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap.min.js" integrity="sha256-6vbKDGwy9JmzGKxxeypGzCjyOmACDtgheaOQT6ZVafA="
        crossorigin="anonymous"></script>
    <!--bootbox.js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.4.0/bootbox.min.js"></script>

    <!--checkbox-->
    <script src="./scripts/bootstrap-checkbox.min.js" defer></script>
    <!--pull to refresh-->
    <script src="./scripts/hammer.2.0.4.js"></script>
    <script src="./scripts/wptr.1.1.js"></script>

    <script>
        window.MyApp = {};
        MyApp.rootPath = '/';
    </script>

    <script src="./app/app.js"></script>
    <script src="./app/switch.js"></script>

    <!-- Page specific scripts -->
    <script>
        //main functions (MVC)
        $('.btn-toggle').click(function () {
            $(this).find('.btn').toggleClass('active');

            if ($(this).find('.btn-primary').size() > 0) {
                $(this).find('.btn').toggleClass('btn-primary');
            }
            if ($(this).find('.btn-danger').size() > 0) {
                $(this).find('.btn').toggleClass('btn-danger');
            }
            if ($(this).find('.btn-success').size() > 0) {
                $(this).find('.btn').toggleClass('btn-success');
            }
            if ($(this).find('.btn-info').size() > 0) {
                $(this).find('.btn').toggleClass('btn-info');
            }

            $(this).find('.btn').toggleClass('btn-default');

        });

        $(document).ready(function () {
            console.log("document ready...");
            $(':checkbox').checkboxpicker({
                offLabel: "Off",
                onLabel: "On",
                html: true,
                offLabel: '<i is="0" class="fa fa-power-off" aria-hidden="true" style="font-size: 1.4em"></i>',
                onLabel: '<i is="1" class="fa fa-lightbulb-o" aria-hidden="true" style="font-size: 1.4em"></i>',
                cls: 'minWidth'
            });
        });
    </script>

    <!-- pull to refresh -->
    <script>
        window.onload = function () {
            WebPullToRefresh.init({
                loadingFunction: exampleLoadingFunction
            });
        };

        // Just an example loading function that returns a
        // promise that WebPullToRefresh can use.
        var exampleLoadingFunction = function () {
            return new Promise(function (resolve, reject) {
                // Run some async loading code here                        
                $("#btn-refresh").click();
                if (true /* if the loading worked */) {
                    resolve();
                    console.log("OK");
                } else {
                    reject();
                    console.log("NOK");
                }
            });
        };
    </script>
</body>

</html>